import{_ as n,V as s,W as a,a0 as t}from"./framework-c954d91f.js";const p={},e=t(`<div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">trap_init</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">int</span> i<span class="token punctuation">;</span>

	<span class="token function">set_trap_gate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>divide_error<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">set_trap_gate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>debug<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">set_trap_gate</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>nmi<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">set_system_gate</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>int3<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">/* int3-5 can be called from all */</span>
	<span class="token function">set_system_gate</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>overflow<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">set_system_gate</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>bounds<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">set_trap_gate</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>invalid_op<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">set_trap_gate</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>device_not_available<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">set_trap_gate</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>double_fault<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">set_trap_gate</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>coprocessor_segment_overrun<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">set_trap_gate</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>invalid_TSS<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">set_trap_gate</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>segment_not_present<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">set_trap_gate</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>stack_segment<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">set_trap_gate</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>general_protection<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">set_trap_gate</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>page_fault<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">set_trap_gate</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>reserved<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">set_trap_gate</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>coprocessor_error<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">17</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">48</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token function">set_trap_gate</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token operator">&amp;</span>reserved<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">set_trap_gate</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>irq13<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">outb_p</span><span class="token punctuation">(</span><span class="token function">inb_p</span><span class="token punctuation">(</span><span class="token number">0x21</span><span class="token punctuation">)</span><span class="token operator">&amp;</span><span class="token number">0xfb</span><span class="token punctuation">,</span><span class="token number">0x21</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">outb</span><span class="token punctuation">(</span><span class="token function">inb_p</span><span class="token punctuation">(</span><span class="token number">0xA1</span><span class="token punctuation">)</span><span class="token operator">&amp;</span><span class="token number">0xdf</span><span class="token punctuation">,</span><span class="token number">0xA1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">set_trap_gate</span><span class="token punctuation">(</span><span class="token number">39</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>parallel_interrupt<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),o=[e];function c(u,l){return s(),a("div",null,o)}const k=n(p,[["render",c],["__file","Linux-0.11-kernel-trap.html.vue"]]);export{k as default};
