const s=JSON.parse('{"key":"v-0dd9b637","path":"/posts/Linux/kernel/Linux-0.11/Linux-0.11-boot-setup.html","title":"Linux-0.11 boot目录setup.s详解","lang":"zh-CN","frontmatter":{"category":["Linux"],"tag":["Linux-0.11代码解读系列"],"description":"Linux-0.11 boot目录setup.s详解 模块简介 打印硬件信息 重新搬运system的位置 设置中断信息 切换32位保护模式 跳转到system.s中运行 过程详解 # 获取内存信息 \\tmov\\t$0x88, %ah \\tint\\t$0x15 \\tmov\\t%ax, %ds:2 # 获取显卡显示模式 \\tmov\\t$0x0f, %ah \\tint\\t$0x10 \\tmov\\t%bx, %ds:4\\t# bh = display page \\tmov\\t%ax, %ds:6\\t# al = video mode, ah = window width # check for EGA/VGA and some config parameters \\tmov\\t$0x12, %ah \\tmov\\t$0x10, %bl \\tint\\t$0x10 \\tmov\\t%ax, %ds:8 \\tmov\\t%bx, %ds:10 \\tmov\\t%cx, %ds:12 # 获取第1块硬盘的信息 \\tmov\\t$0x0000, %ax \\tmov\\t%ax, %ds \\tlds\\t%ds:4*0x41, %si \\tmov\\t$INITSEG, %ax \\tmov\\t%ax, %es \\tmov\\t$0x0080, %di \\tmov\\t$0x10, %cx \\trep \\tmovsb # 获取第2块硬盘的信息 \\tmov\\t$0x0000, %ax \\tmov\\t%ax, %ds \\tlds\\t%ds:4*0x46, %si \\tmov\\t$INITSEG, %ax \\tmov\\t%ax, %es \\tmov\\t$0x0090, %di \\tmov\\t$0x10, %cx \\trep \\tmovsb","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/posts/Linux/kernel/Linux-0.11/Linux-0.11-boot-setup.html"}],["meta",{"property":"og:site_name","content":"Code Building"}],["meta",{"property":"og:title","content":"Linux-0.11 boot目录setup.s详解"}],["meta",{"property":"og:description","content":"Linux-0.11 boot目录setup.s详解 模块简介 打印硬件信息 重新搬运system的位置 设置中断信息 切换32位保护模式 跳转到system.s中运行 过程详解 # 获取内存信息 \\tmov\\t$0x88, %ah \\tint\\t$0x15 \\tmov\\t%ax, %ds:2 # 获取显卡显示模式 \\tmov\\t$0x0f, %ah \\tint\\t$0x10 \\tmov\\t%bx, %ds:4\\t# bh = display page \\tmov\\t%ax, %ds:6\\t# al = video mode, ah = window width # check for EGA/VGA and some config parameters \\tmov\\t$0x12, %ah \\tmov\\t$0x10, %bl \\tint\\t$0x10 \\tmov\\t%ax, %ds:8 \\tmov\\t%bx, %ds:10 \\tmov\\t%cx, %ds:12 # 获取第1块硬盘的信息 \\tmov\\t$0x0000, %ax \\tmov\\t%ax, %ds \\tlds\\t%ds:4*0x41, %si \\tmov\\t$INITSEG, %ax \\tmov\\t%ax, %es \\tmov\\t$0x0080, %di \\tmov\\t$0x10, %cx \\trep \\tmovsb # 获取第2块硬盘的信息 \\tmov\\t$0x0000, %ax \\tmov\\t%ax, %ds \\tlds\\t%ds:4*0x46, %si \\tmov\\t$INITSEG, %ax \\tmov\\t%ax, %es \\tmov\\t$0x0090, %di \\tmov\\t$0x10, %cx \\trep \\tmovsb"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-04-08T08:57:58.000Z"}],["meta",{"property":"article:tag","content":"Linux-0.11代码解读系列"}],["meta",{"property":"article:modified_time","content":"2023-04-08T08:57:58.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Linux-0.11 boot目录setup.s详解\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-04-08T08:57:58.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"模块简介","slug":"模块简介","link":"#模块简介","children":[]},{"level":2,"title":"过程详解","slug":"过程详解","link":"#过程详解","children":[]},{"level":2,"title":"Q & A","slug":"q-a","link":"#q-a","children":[]}],"git":{"createdTime":1680686630000,"updatedTime":1680944278000,"contributors":[{"name":"zgjsxx","email":"119160524@qq.com","commits":3}]},"readingTime":{"minutes":1.23,"words":368},"filePathRelative":"posts/Linux/kernel/Linux-0.11/Linux-0.11-boot-setup.md","localizedDate":"2023年4月5日","excerpt":"<h1> Linux-0.11 boot目录setup.s详解</h1>\\n<h2> 模块简介</h2>\\n<p>打印硬件信息</p>\\n<p>重新搬运system的位置</p>\\n<p>设置中断信息</p>\\n<p>切换32位保护模式</p>\\n<p>跳转到system.s中运行</p>\\n<h2> 过程详解</h2>\\n<div class=\\"language-c line-numbers-mode\\" data-ext=\\"c\\"><pre class=\\"language-c\\"><code># 获取内存信息\\n\\n\\tmov\\t$<span class=\\"token number\\">0x88</span><span class=\\"token punctuation\\">,</span> <span class=\\"token operator\\">%</span>ah \\n\\t<span class=\\"token keyword\\">int</span>\\t$<span class=\\"token number\\">0x15</span>\\n\\tmov\\t<span class=\\"token operator\\">%</span>ax<span class=\\"token punctuation\\">,</span> <span class=\\"token operator\\">%</span>ds<span class=\\"token operator\\">:</span><span class=\\"token number\\">2</span>\\n\\n# 获取显卡显示模式\\n\\n\\tmov\\t$<span class=\\"token number\\">0x0f</span><span class=\\"token punctuation\\">,</span> <span class=\\"token operator\\">%</span>ah\\n\\t<span class=\\"token keyword\\">int</span>\\t$<span class=\\"token number\\">0x10</span>\\n\\tmov\\t<span class=\\"token operator\\">%</span>bx<span class=\\"token punctuation\\">,</span> <span class=\\"token operator\\">%</span>ds<span class=\\"token operator\\">:</span><span class=\\"token number\\">4</span>\\t# bh <span class=\\"token operator\\">=</span> display page\\n\\tmov\\t<span class=\\"token operator\\">%</span>ax<span class=\\"token punctuation\\">,</span> <span class=\\"token operator\\">%</span>ds<span class=\\"token operator\\">:</span><span class=\\"token number\\">6</span>\\t# al <span class=\\"token operator\\">=</span> video mode<span class=\\"token punctuation\\">,</span> ah <span class=\\"token operator\\">=</span> window width\\n\\n<span class=\\"token macro property\\"><span class=\\"token directive-hash\\">#</span> <span class=\\"token directive keyword\\">check</span> <span class=\\"token expression\\"><span class=\\"token keyword\\">for</span> EGA<span class=\\"token operator\\">/</span>VGA and some config parameters</span></span>\\n\\n\\tmov\\t$<span class=\\"token number\\">0x12</span><span class=\\"token punctuation\\">,</span> <span class=\\"token operator\\">%</span>ah\\n\\tmov\\t$<span class=\\"token number\\">0x10</span><span class=\\"token punctuation\\">,</span> <span class=\\"token operator\\">%</span>bl\\n\\t<span class=\\"token keyword\\">int</span>\\t$<span class=\\"token number\\">0x10</span>\\n\\tmov\\t<span class=\\"token operator\\">%</span>ax<span class=\\"token punctuation\\">,</span> <span class=\\"token operator\\">%</span>ds<span class=\\"token operator\\">:</span><span class=\\"token number\\">8</span>\\n\\tmov\\t<span class=\\"token operator\\">%</span>bx<span class=\\"token punctuation\\">,</span> <span class=\\"token operator\\">%</span>ds<span class=\\"token operator\\">:</span><span class=\\"token number\\">10</span>\\n\\tmov\\t<span class=\\"token operator\\">%</span>cx<span class=\\"token punctuation\\">,</span> <span class=\\"token operator\\">%</span>ds<span class=\\"token operator\\">:</span><span class=\\"token number\\">12</span>\\n\\n# 获取第<span class=\\"token number\\">1</span>块硬盘的信息\\n\\n\\tmov\\t$<span class=\\"token number\\">0x0000</span><span class=\\"token punctuation\\">,</span> <span class=\\"token operator\\">%</span>ax\\n\\tmov\\t<span class=\\"token operator\\">%</span>ax<span class=\\"token punctuation\\">,</span> <span class=\\"token operator\\">%</span>ds\\n\\tlds\\t<span class=\\"token operator\\">%</span>ds<span class=\\"token operator\\">:</span><span class=\\"token number\\">4</span><span class=\\"token operator\\">*</span><span class=\\"token number\\">0x41</span><span class=\\"token punctuation\\">,</span> <span class=\\"token operator\\">%</span>si\\n\\tmov\\t$INITSEG<span class=\\"token punctuation\\">,</span> <span class=\\"token operator\\">%</span>ax\\n\\tmov\\t<span class=\\"token operator\\">%</span>ax<span class=\\"token punctuation\\">,</span> <span class=\\"token operator\\">%</span>es\\n\\tmov\\t$<span class=\\"token number\\">0x0080</span><span class=\\"token punctuation\\">,</span> <span class=\\"token operator\\">%</span>di\\n\\tmov\\t$<span class=\\"token number\\">0x10</span><span class=\\"token punctuation\\">,</span> <span class=\\"token operator\\">%</span>cx\\n\\trep\\n\\tmovsb\\n\\n# 获取第<span class=\\"token number\\">2</span>块硬盘的信息\\n\\n\\tmov\\t$<span class=\\"token number\\">0x0000</span><span class=\\"token punctuation\\">,</span> <span class=\\"token operator\\">%</span>ax\\n\\tmov\\t<span class=\\"token operator\\">%</span>ax<span class=\\"token punctuation\\">,</span> <span class=\\"token operator\\">%</span>ds\\n\\tlds\\t<span class=\\"token operator\\">%</span>ds<span class=\\"token operator\\">:</span><span class=\\"token number\\">4</span><span class=\\"token operator\\">*</span><span class=\\"token number\\">0x46</span><span class=\\"token punctuation\\">,</span> <span class=\\"token operator\\">%</span>si\\n\\tmov\\t$INITSEG<span class=\\"token punctuation\\">,</span> <span class=\\"token operator\\">%</span>ax\\n\\tmov\\t<span class=\\"token operator\\">%</span>ax<span class=\\"token punctuation\\">,</span> <span class=\\"token operator\\">%</span>es\\n\\tmov\\t$<span class=\\"token number\\">0x0090</span><span class=\\"token punctuation\\">,</span> <span class=\\"token operator\\">%</span>di\\n\\tmov\\t$<span class=\\"token number\\">0x10</span><span class=\\"token punctuation\\">,</span> <span class=\\"token operator\\">%</span>cx\\n\\trep\\n\\tmovsb\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{s as data};
